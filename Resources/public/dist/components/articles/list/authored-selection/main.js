define(["jquery"],function(a){"use strict";var b={options:{data:{from:null,to:null},selectCallback:function(a){}},translations:{title:"sulu_article.authored",from:"sulu_article.authored-selection-overlay.from",to:"sulu_article.authored-selection-overlay.to"},templates:{skeleton:['<div class="grid">','   <div class="grid-row">','       <div class="grid-col-6 form-group">','            <label for="authored-from"><%= translations.from %></label>','           <div class="form-element"','                data-aura-component="input@husky"','                data-aura-skin="date"','                data-aura-instance-name="from"','                data-aura-inpu-id="authored-from"','                data-type="husky-input"','                data-form="true"','                data-mapper-property="from"/>',"       </div>",'       <div class="grid-col-6 form-group">','            <label for="authored-to"><%= translations.to %></label>','           <div class="form-element"','                data-aura-component="input@husky"','                data-aura-skin="date"','                data-aura-instance-name="to"','                data-aura-inpu-id="authored-to"','                data-type="husky-input"','                data-form="true"','                data-mapper-property="to"/>',"       </div>","   </div>","</div>"].join("")}};return{defaults:b,initialize:function(){this.$overlayContainer=a("<div/>"),this.$el.append(this.$overlayContainer),this.data=this.options.data,this.sandbox.start([{name:"overlay@husky",options:{el:this.$overlayContainer,instanceName:"authored-selection",openOnStart:!0,removeOnClose:!0,skin:"medium",slides:[{title:this.translations.title,data:a(this.templates.skeleton({translations:this.translations})),okCallback:this.okCallbackOverlay.bind(this)}]}}]),this.sandbox.once("husky.overlay.authored-selection.opened",function(){this.sandbox.form.create(this.$overlayContainer).initialized.then(function(){this.sandbox.form.setData(this.$overlayContainer,this.options.data).then(function(){this.sandbox.start(this.$overlayContainer)}.bind(this))}.bind(this))}.bind(this))},okCallbackOverlay:function(){this.sandbox.form.validate(this.$overlayContainer)&&(this.options.selectCallback(this.sandbox.form.getData(this.$overlayContainer)),this.sandbox.stop())}}});