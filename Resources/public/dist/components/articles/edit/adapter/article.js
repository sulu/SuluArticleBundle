define(["underscore","config","services/suluarticle/article-manager","services/sulupreview/preview"],function(a,b,c,d){"use strict";return{startPreview:function(a,c){var e=c;e.type&&"ghost"===e.type.name&&(e={id:e.id});var f=d.initialize(b.get("sulu_security.contexts")["sulu.modules.articles"]);return f.start("Sulu\\Bundle\\ArticleBundle\\Document\\ArticleDocument",e.id,a.options.locale,e),f},destroyPreview:function(a){d.destroy(a)},beforeFormCreate:function(a){},prepareData:function(a){return a},save:function(b,d,e){return d.template=b.template,a.each(d,function(a,c){b.data[c]=a}),b.data.type&&"ghost"===b.data.type.name&&(b.data._hash=null),c.save(b.data,b.data.id,b.options.locale,e)}}});