define(["jquery","services/husky/util"],function(a,b){"use strict";var c={url:_.template('/admin/api/articles<% if (typeof id !== "undefined") { %>/<%= id %><% } %><% if (typeof postfix !== "undefined") { %>/<%= postfix %><% } %><% if (typeof version !== "undefined") { %>/<%= version %><% } %>?locale=<%= locale %><% if (typeof action !== "undefined") { %>&action=<%= action %><% } %><% if (typeof ids !== "undefined") { %>&ids=<%= ids.join(",") %><% } %>'),pageUrl:_.template('/admin/api/articles/<%= articleId %>/pages<% if (typeof pageId !== "undefined" && !!pageId) { %>/<%= pageId %><% } %>?locale=<%= locale %><% if (typeof action !== "undefined") { %>&action=<%= action %><% } %>')};return{url:c.url,load:function(a,d){return b.load(c.url({id:a,locale:d}))},loadSync:function(a,d){return b.ajax({url:c.url({id:a,locale:d}),dataType:"json",async:!1})},save:function(a,d,e,f){return b.save(c.url({id:d,locale:e,action:f}),d?"PUT":"POST",a)},savePage:function(a,d,e,f,g){return b.save(c.pageUrl({articleId:d,pageId:e,locale:f,action:g}),e?"PUT":"POST",a)},remove:function(a,d){return"string"==typeof a?b.save(c.url({id:a,locale:d}),"DELETE"):b.save(c.url({ids:a,locale:d}),"DELETE")},unpublish:function(a,d){return b.save(c.url({id:a,locale:d,action:"unpublish"}),"POST")},removeDraft:function(a,d){return b.save(c.url({id:a,locale:d,action:"remove-draft"}),"POST")},restoreVersion:function(a,d,e){return b.save(c.url({id:a,postfix:"versions",locale:e,version:d,action:"restore"}),"POST")},copy:function(a,d){return b.save(c.url({id:a,locale:d,action:"copy"}),"POST")},getCopyLocaleUrl:function(a,b,d){return[c.url({id:a,locale:b,action:"copy-locale"}),"&dest=",d].join("")},getCopyPageLocaleUrl:function(a,b,d,e){return[c.pageUrl({articleId:a,pageId:b,locale:d,action:"copy-locale"}),"&dest=",e].join("")},getVersionsUrl:function(a,b){return c.url({id:a,postfix:"versions",locale:b})}}});