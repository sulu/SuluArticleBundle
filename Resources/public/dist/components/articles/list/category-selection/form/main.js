define(["jquery","text!./form.html"],function(a,b){"use strict";var c={options:{locale:null,data:{category:null},selectCallback:function(a){},matchings:[{name:"name",content:"Name"},{name:"id",disabled:!0},{name:"children",disabled:!0},{name:"parent",disabled:!0}]},templates:{skeleton:b},translations:{noItems:"sulu.category.no-categories-available"}};return{defaults:c,initialize:function(){var b=a(this.templates.skeleton({translations:this.translations}));this.$el.append(b),this.sandbox.start([{name:"datagrid@husky",options:{el:b,instanceName:"category-selection",url:"/admin/api/categories?locale="+this.options.locale+"&flat=true&sortBy=name&sortOrder=asc",resultKey:"categories",sortable:!1,selectedCounter:!1,preselected:this.options.data.category?[this.options.data.category.id]:[],paginationOptions:{dropdown:{limit:20}},childrenPropertyName:"hasChildren",viewOptions:{table:{cropContents:!1,noItemsText:this.translations.noItems,showHead:!1,cssClass:"white-box",selectItem:{type:"radio",inFirstCell:!0}}},matchings:this.options.matchings}}]),this.sandbox.on("sulu_article.category-selection.form.get",this.getEvent.bind(this))},getEvent:function(){this.sandbox.emit("husky.datagrid.category-selection.items.get-selected",function(a,b){var c=this.options.data;b.length>0&&(c.categoryId=a[0],c.categoryItem=b[0]),this.options.selectCallback(c)}.bind(this),!0)}}});